(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{14884:function(e,t,s){Promise.resolve().then(s.bind(s,50327))},81066:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var r=s(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let s=(0,r.forwardRef)((s,i)=>{let{color:l="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:u,className:d="",children:h,...m}=s;return(0,r.createElement)("svg",{ref:i,...n,width:o,height:o,stroke:l,strokeWidth:u?24*Number(c)/Number(o):c,className:["lucide","lucide-".concat(a(e)),d].join(" "),...m},[...t.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(h)?h:[h]])});return s.displayName="".concat(e),s}},51077:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(81066).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},98094:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(81066).Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},53225:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(81066).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},55430:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(81066).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},16463:function(e,t,s){"use strict";var r=s(71169);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},20357:function(e,t,s){"use strict";var r,n;e.exports=(null==(r=s.g.process)?void 0:r.env)&&"object"==typeof(null==(n=s.g.process)?void 0:n.env)?s.g.process:s(88081)},88081:function(e){!function(){var t={229:function(e){var t,s,r,n=e.exports={};function a(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(s){try{return t.call(null,e,0)}catch(s){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{s="function"==typeof clearTimeout?clearTimeout:i}catch(e){s=i}}();var o=[],c=!1,u=-1;function d(){c&&r&&(c=!1,r.length?o=r.concat(o):u=-1,o.length&&h())}function h(){if(!c){var e=l(d);c=!0;for(var t=o.length;t;){for(r=o,o=[];++u<t;)r&&r[u].run();u=-1,t=o.length}r=null,c=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===i||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];o.push(new m(e,t)),1!==o.length||c||l(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},s={};function r(e){var n=s[e];if(void 0!==n)return n.exports;var a=s[e]={exports:{}},i=!0;try{t[e](a,a.exports,r),i=!1}finally{i&&delete s[e]}return a.exports}r.ab="//";var n=r(229);e.exports=n}()},50327:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var r=s(57437),n=s(2265),a=s(16463),i=s(87138),l=s(92800),o=s(81066);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,o.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),u=(0,o.Z)("Hotel",[["path",{d:"M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z",key:"p9z69c"}],["path",{d:"m9 16 .348-.24c1.465-1.013 3.84-1.013 5.304 0L15 16",key:"1bvcvh"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M10 22v-6.5m4 0V22",key:"16gs4s"}]]);var d=s(51077),h=s(55430),m=s(53225);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,o.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var x=s(98094);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,o.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function y(){let e=(0,a.useRouter)(),[t,s]=(0,n.useState)(null),[o,y]=(0,n.useState)(null),[v,b]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{(async()=>{try{let[e,t]=await Promise.all([l.h.me(),l.h.getHotelStats()]);s(e),y(t)}catch(t){e.push("/login")}finally{b(!1)}})()},[e]),v)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-cyan-400 animate-pulse",children:"Loading..."})}):(0,r.jsxs)("div",{className:"min-h-screen",children:[(0,r.jsx)("header",{className:"border-b border-white/10 bg-black/50 backdrop-blur-xl sticky top-0 z-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-8",children:[(0,r.jsxs)(i.default,{href:"/",className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-2xl font-bold text-gradient",children:"EYWA"}),(0,r.jsx)("span",{className:"text-cyan-400/80 text-sm",children:"AI"})]}),(0,r.jsxs)("nav",{className:"hidden md:flex items-center gap-6",children:[(0,r.jsx)(i.default,{href:"/dashboard",className:"text-white font-medium",children:"Dashboard"}),(0,r.jsx)(i.default,{href:"/pms",className:"text-gray-400 hover:text-white transition",children:"PMS"}),(0,r.jsx)(i.default,{href:"/playground",className:"text-gray-400 hover:text-white transition",children:"API Playground"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("span",{className:"text-sm text-gray-400",children:null==t?void 0:t.hotel_name}),(0,r.jsx)("button",{onClick:()=>{l.h.clearToken(),e.push("/login")},className:"p-2 text-gray-400 hover:text-white transition",children:(0,r.jsx)(c,{className:"w-5 h-5"})})]})]})}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Welcome back"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Here's what's happening with your hotel"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)(f,{icon:(0,r.jsx)(u,{className:"w-6 h-6"}),label:"Total Bookings",value:(null==o?void 0:o.bookings.total)||"0",subtext:"".concat((null==o?void 0:o.bookings.direct)||"0"," direct"),color:"cyan"}),(0,r.jsx)(f,{icon:(0,r.jsx)(d.Z,{className:"w-6 h-6"}),label:"Revenue",value:"€".concat(Number((null==o?void 0:o.revenue.total)||0).toLocaleString()),subtext:"€".concat(Number((null==o?void 0:o.revenue.commissions)||0).toLocaleString()," in commissions"),color:"emerald"}),(0,r.jsx)(f,{icon:(0,r.jsx)(h.Z,{className:"w-6 h-6"}),label:"AI Sessions",value:(null==o?void 0:o.ai.total)||"0",subtext:"".concat((null==o?void 0:o.ai.conversions)||"0"," conversions"),color:"purple"}),(0,r.jsx)(f,{icon:(0,r.jsx)(m.Z,{className:"w-6 h-6"}),label:"AI ROI",value:(null==o?void 0:o.ai.total_cost)?"€".concat(Number(o.ai.total_cost).toFixed(2)):"€0",subtext:"AI cost this month",color:"amber"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[(0,r.jsx)(i.default,{href:"/pms",className:"glass-card p-6 hover:border-cyan-400/30 transition group",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"p-3 rounded-lg bg-cyan-400/20",children:(0,r.jsx)(p,{className:"w-6 h-6 text-cyan-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold group-hover:text-cyan-400 transition",children:"Connect PMS"}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"Link your property management system"})]})]})}),(0,r.jsx)(i.default,{href:"/playground",className:"glass-card p-6 hover:border-purple-400/30 transition group",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"p-3 rounded-lg bg-purple-400/20",children:(0,r.jsx)(x.Z,{className:"w-6 h-6 text-purple-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold group-hover:text-purple-400 transition",children:"API Playground"}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"Test PMS API endpoints"})]})]})}),(0,r.jsx)("div",{className:"glass-card p-6 hover:border-emerald-400/30 transition group cursor-pointer",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"p-3 rounded-lg bg-emerald-400/20",children:(0,r.jsx)(g,{className:"w-6 h-6 text-emerald-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold group-hover:text-emerald-400 transition",children:"AI Performance"}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"Compare ChatGPT vs Claude"})]})]})})]}),(0,r.jsxs)("div",{className:"glass-card p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Revenue by Channel"}),(0,r.jsxs)("div",{className:"space-y-4",children:[null==o?void 0:o.channels.filter(e=>Number(e.revenue)>0).map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("direct"===e.slug?"bg-emerald-400":"bg-orange-400")}),(0,r.jsx)("span",{children:e.name})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"font-semibold",children:["€",Number(e.revenue).toLocaleString()]}),(0,r.jsxs)("div",{className:"text-sm text-gray-400",children:[e.bookings," bookings"]})]})]},e.slug)),(!(null==o?void 0:o.channels)||0===o.channels.filter(e=>Number(e.revenue)>0).length)&&(0,r.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No booking data yet. Connect your PMS to start tracking."})]})]})]})]})}function f(e){let{icon:t,label:s,value:n,subtext:a,color:i}=e,l={cyan:"from-cyan-400/20 to-cyan-600/5 border-cyan-400/30 text-cyan-400",emerald:"from-emerald-400/20 to-emerald-600/5 border-emerald-400/30 text-emerald-400",purple:"from-purple-400/20 to-purple-600/5 border-purple-400/30 text-purple-400",amber:"from-amber-400/20 to-amber-600/5 border-amber-400/30 text-amber-400"};return(0,r.jsxs)("div",{className:"relative overflow-hidden rounded-2xl p-6 bg-gradient-to-br ".concat(l[i]," border backdrop-blur-xl"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:l[i].split(" ")[0],children:t}),(0,r.jsx)("span",{className:"text-sm text-gray-400",children:s})]}),(0,r.jsx)("div",{className:"text-3xl font-bold ".concat(l[i].split(" ").pop()),children:n}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:a})]})}},92800:function(e,t,s){"use strict";s.d(t,{h:function(){return a}});let r=s(20357).env.NEXT_PUBLIC_API_URL||"/eywa/api";class n{setToken(e){this.token=e,localStorage.setItem("eywa_token",e)}clearToken(){this.token=null,localStorage.removeItem("eywa_token")}getToken(){return this.token}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={"Content-Type":"application/json",...t.headers};this.token&&(s.Authorization="Bearer ".concat(this.token));let n=await fetch("".concat(r).concat(e),{...t,headers:s}),a=await n.json();if(!n.ok)throw Error(a.error||"API request failed");return a}async login(e,t){let s=await this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})});return this.setToken(s.token),s}async register(e){let t=await this.request("/auth/register",{method:"POST",body:JSON.stringify(e)});return this.setToken(t.token),t}async me(){return this.request("/auth/me")}async getHotel(){return this.request("/hotel")}async getHotelStats(){return this.request("/hotel/stats")}async getBookings(e){let t=e?"?"+new URLSearchParams(e).toString():"";return this.request("/bookings".concat(t))}async getBookingStats(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;return this.request("/bookings/stats?period=".concat(e))}async getChannels(){return this.request("/channels")}async getPMSTypes(){return this.request("/pms/types")}async getPMSConnection(){return this.request("/pms/connection")}async connectPMS(e){return this.request("/pms/connect",{method:"POST",body:JSON.stringify(e)})}async testPMSEndpoint(e,t,s){return this.request("/pms/test",{method:"POST",body:JSON.stringify({endpoint:e,method:t,body:s})})}async getAPILogs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.request("/pms/logs?limit=".concat(e))}async getAIProviders(){return this.request("/ai/providers")}async getAIStats(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;return this.request("/ai/stats?period=".concat(e))}async getROIMetrics(){return this.request("/ai/roi")}async compareProviders(){return this.request("/ai/compare")}constructor(){this.token=null,this.token=localStorage.getItem("eywa_token")}}let a=new n}},function(e){e.O(0,[138,971,23,744],function(){return e(e.s=14884)}),_N_E=e.O()}]);